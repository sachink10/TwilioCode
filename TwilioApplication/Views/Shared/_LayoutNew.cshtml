@using TwilioApplication.Utilities

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WHI Project</title>
    <meta name="description" content="Admin, Dashboard, Bootstrap" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- build:css assets/css/app.min.css -->
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="~/assets/css/app.css">
    <link rel="stylesheet" href="~/assets/css/style.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/themes/start/jquery-ui.css"></script>
    <!-- endbuild -->
    <link href="https://cdn.datatables.net/1.10.12/css/dataTables.bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
</head>

<body class="simple-page theme-primary">
    <!--============= start main area -->

    <!-- APP ASIDE ==========-->
    <aside id="app-aside" class="app-aside top light">
        <div class="container">

            <!-- aside-user -->
            <div class="aside-user pull-right" style="margin: 0px 0 0 50px;">
                <ul>
                    <li class="dropdown"><a aria-expanded="false" aria-haspopup="true" data-toggle="dropdown" class="dropdown-toggle usertitle" href="javascript:void(0)">
                        <div class="pull-right" style="padding: 6px 0 0 0;">@Session["LoggedInUserEmail"].ToString()</div>
                        <div class="avatar avatar-md avatar-circle pull-right">
                            <img src="~/assets/images/NoPicture.PNG" border="0" alt="" class="img-responsive">
                        </div>
                        <!-- .avatar -->

                    </a>

                    </li>
                </ul>
            </div>
            <!-- /aside-user -->

            <!-- aside-menu -->
            <div class="aside-menu-wrapper pull-right">
                <div id="aside-top-menu-toggle" class="visible-xs-inline-block">
                    <button data-toggle="class" data-target="#aside-top-menu" data-class="open" self-toggle="is-active" class="hamburger hamburger--spin js-hamburger" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></button>
                </div>
                <ul class="sf-menu aside-menu aside-top-menu" id="aside-top-menu">
                    <li><a href="javascript:void(0)" class="menu-link"><span class="menu-text">Admin</span> </a>
                        <ul>
                            <li><a href="@Url.Action("UserManagement", "HNI")">User&nbsp;(NGO)&nbsp;Management</a></li>
                            <li><a href="@Url.Action("ParticipatingLocation", "HNI")">Participating Locations</a></li>
                            <li><a href="@Url.Action("FoodMenu", "HNI")">Food Menu</a></li>
                        </ul>
                    </li>
                    <!-- .menu-item -->

                    <li><a href="@Url.Action("Participants", "HNI")" class="menu-link"><span class="menu-text">Participants</span> </a></li>
                    <!-- .menu-item -->

                    <li><a href="@Url.Action("SendMessage", "HNI")" class="menu-link"><span class="menu-text">Send Message</span> </a></li>
                    <!-- .menu-item -->

                    <li><a href="@Url.Action("OrderStatus", "HNI")" class="menu-link active"><span class="menu-text">DashBoard</span> </a></li>
                    <!-- .menu-item -->
                    <li><a href="javascript:void(0)" class="menu-link" data-toggle="modal" data-target="#myModal"><span class="menu-text">New Restration</span> </a></li>
                </ul>
            </div>
            <!-- /aside-menu -->

        </div>

    </aside>
    <!--========== END app aside -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">New Registration</h4>
                </div>
                <div class="modal-body">
                    <p style="text-align: center;">
                        Enter 10 digit phone  numbers to enter multiple numbers separate them by comma
                        <br>
                        (eg 234567891,3654676546)
                    </p>
                    <textarea class="form-control" id="txtboxToFilter" name="" cols="" rows=""></textarea>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" onclick="saveregistration()">Submit</button>
                </div>
            </div>
        </div>
    </div>

    @RenderBody();

    

    <!-- build:js assets/js/core.min.js -->
    <!--<script src="http://code.jquery.com/jquery-1.12.3.min.js"></script> -->
    @* //  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
   // <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>-->*@

    <script src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.12/js/dataTables.bootstrap.min.js"></script>
    <script>
        $(document).ready(function () {
            $('#example').DataTable();
        });
    </script>
    <script>
        $(document).ready(function () {
            $('#example1').DataTable();
        });
    </script>
    <script src="~/assets/js/bootstrap.js"></script>
    <!-- endbuild -->

    <!-- build:js assets/js/app.min.js 
<script src="assets/js/library.js"></script> 
<script src="assets/js/plugins.js"></script> -->
    <!-- endbuild -->
    <script>
        $('input[name="intervaltype"]').click(function () {
            $(this).tab('show');
        });
    </script>

    <script src="~/assets/js/jquery.sparkline.min.js"></script>
    <script type="text/javascript">
        $(function () {
            $('.inlinesparkline').sparkline();
            var myvalues = [10, 8, 5, 7, 4, 4, 1];
            $('.dynamicsparkline').sparkline(myvalues);
            $('.dynamicbar').sparkline(myvalues, { type: 'bar', barColor: 'white' });
            $('.inlinebar').sparkline('html', { type: 'bar', barColor: 'white' });

        });
        /* ]]> */
    </script>

    <script>
        //$(document).ready(function () {
        //    $("#txtboxToFilter").keydown(function (e) {
        //        // Allow: backspace, delete, tab, escape, enter and .
        //        if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 110, 190]) !== -1 ||
        //            // Allow: Ctrl+A, Command+A
        //            (e.keyCode == 65 && (e.ctrlKey === true || e.metaKey === true)) ||
        //            // Allow: home, end, left, right, down, up
        //            (e.keyCode >= 35 && e.keyCode <= 40)) {
        //            // let it happen, don't do anything
        //            return;
        //        }
        //        // Ensure that it is a number and stop the keypress
        //        if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
        //            e.preventDefault();
        //        }
        //    });
        //});

        function saveregistration() {

            var number = $("#txtboxToFilter").val();

            $.ajax({
                type: "POST",
                url: '@Url.Action("InsetNewResistrationModel", "HNI")',
                cache: false,
                dataType: "json",
                data: { 'phonenumber': number },
                //  contentType: 'application/json; charset=utf-8',
                success: function (data) {
                    if (data == true) {
                        alert("Date Inserted successfully!");
                        $("#txtboxToFilter").val('');
                        return true;
                    }
                    else {
                        return false;
                        alert("Due to some issue data not inserted into DB. Please contact administrator");
                    }
                },
                error: function (result) {
                    alert('Cannot update selection values now!!');
                }
            })

        }

    </script>
</body>
</html>
